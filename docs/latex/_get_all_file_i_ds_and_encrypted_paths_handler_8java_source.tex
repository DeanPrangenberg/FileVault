\doxysection{Get\+All\+File\+IDs\+And\+Encrypted\+Paths\+Handler.\+java}
\hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source}{}\label{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source}\index{D:/MyRepo/FileVault/JavaDatabase/src/main/java/GetAllFileIDsAndEncryptedPathsHandler.java@{D:/MyRepo/FileVault/JavaDatabase/src/main/java/GetAllFileIDsAndEncryptedPathsHandler.java}}
\mbox{\hyperlink{_get_all_file_i_ds_and_encrypted_paths_handler_8java}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00001}00001\ \textcolor{keyword}{import}\ com.sun.net.httpserver.HttpExchange;}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00002}00002\ \textcolor{keyword}{import}\ com.sun.net.httpserver.HttpHandler;}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00003}00003\ \textcolor{keyword}{import}\ com.fasterxml.jackson.databind.ObjectMapper;}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00005}00005\ \textcolor{keyword}{import}\ java.io.IOException;}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00006}00006\ \textcolor{keyword}{import}\ java.io.OutputStream;}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00007}00007\ \textcolor{keyword}{import}\ java.util.List;}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00012}\mbox{\hyperlink{class_get_all_file_i_ds_and_encrypted_paths_handler}{00012}}\ \textcolor{keyword}{public}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_get_all_file_i_ds_and_encrypted_paths_handler_a95a4506e974167084009afdb2ec45388}{GetAllFileIDsAndEncryptedPathsHandler}}\ \textcolor{keyword}{implements}\ HttpHandler\ \{}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00013}00013\ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{final}\ \mbox{\hyperlink{class_database}{Database}}\ db;}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00020}\mbox{\hyperlink{class_get_all_file_i_ds_and_encrypted_paths_handler_a95a4506e974167084009afdb2ec45388}{00020}}\ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_get_all_file_i_ds_and_encrypted_paths_handler_a95a4506e974167084009afdb2ec45388}{GetAllFileIDsAndEncryptedPathsHandler}}(\mbox{\hyperlink{class_database}{Database}}\ db)\ \{}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00021}00021\ \ \ \ \ \ \ \ \ this.db\ =\ db;}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00022}00022\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00030}00030\ \ \ \ \ @Override}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00031}\mbox{\hyperlink{class_get_all_file_i_ds_and_encrypted_paths_handler_a3d93c46a7fbaa49c6f2e244e2dfd8618}{00031}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_get_all_file_i_ds_and_encrypted_paths_handler_a3d93c46a7fbaa49c6f2e244e2dfd8618}{handle}}(HttpExchange\ exchange)\ \textcolor{keywordflow}{throws}\ IOException\ \{}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00032}00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\textcolor{stringliteral}{"{}GET"{}}.equals(exchange.getRequestMethod()))\ \{}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00033}00033\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Retrieve\ all\ file\ IDs\ and\ encrypted\ paths\ from\ the\ database}}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ List<\mbox{\hyperlink{class_database}{Database}}.\mbox{\hyperlink{class_database_1_1_go_file_data}{GoFileData}}>\ fileList\ =\ db.getAllFileIDsAndEncryptedPaths();}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ ObjectMapper\ mapper\ =\ \textcolor{keyword}{new}\ ObjectMapper();}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00036}00036\ \ \ \ \ \ \ \ \ \ \ \ \ String\ response\ =\ mapper.writeValueAsString(fileList);}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00038}00038\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Send\ the\ response}}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00039}00039\ \ \ \ \ \ \ \ \ \ \ \ \ exchange.sendResponseHeaders(200,\ response.getBytes().length);}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00040}00040\ \ \ \ \ \ \ \ \ \ \ \ \ OutputStream\ os\ =\ exchange.getResponseBody();}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ os.write(response.getBytes());}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ os.close();}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ System.out.println(\textcolor{stringliteral}{"{}Retrieved\ all\ file\ IDs\ and\ encrypted\ paths"{}});}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00045}00045\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Method\ not\ allowed}}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00047}00047\ \ \ \ \ \ \ \ \ \ \ \ \ exchange.sendResponseHeaders(405,\ -\/1);\ \textcolor{comment}{//\ Method\ Not\ Allowed}}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00048}00048\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00049}00049\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_get_all_file_i_ds_and_encrypted_paths_handler_8java_source_l00050}00050\ \}}

\end{DoxyCode}
